<div class="row">
    <div ng-show="!fileAPIAvailable" class="col-lg-12">
        <div class="alert alert-danger">
            HTML 5 File APi is not available in your Browser. Please provide a polyfill or use a Browser that supports this.
            see also http://caniuse.com/#search=file%20api
        </div>
    </div>
    <div ng-show="fileAPIAvailable" class="col-lg-12">
        <div class="row">
            <div class="col-lg-12">
                <div class="panel-group" role="tablist">
                    <div class="panel panel-default">
                        <div class="panel-heading" role="tab" id="collapseListGroupHeading1">
                            <h4 class="panel-title">
                                <a class="collapsed" data-toggle="collapse" href="#collapseListGroup1" aria-expanded="false" aria-controls="collapseListGroup1">
                                    Indicator files
                                </a>
                                <span style="font-size: 14px" 
                                      class="pull-right glyphicon glyphicon-plus-sign btn-file ">
                                    <span
                                        data-placement="top" data-type="info" 
                                        data-delay="500" 
                                        data-animation="am-fade-and-scale" 
                                        data-container="body"
                                        bs-tooltip="tooltipAdd.title"></span>
                                    <input type="file" file-input="iccObjects" multiple>
                                </span>
                                <span style="margin-right:5px; font-size: 14px" 
                                      class="pull-right glyphicon glyphicon-minus-sign"
                                      data-placement="top" data-type="info" 
                                      data-delay="500" 
                                      data-animation="am-fade-and-scale" 
                                      data-container="body"
                                      bs-tooltip="tooltipDeleteSelection.title"
                                      ng-click="removeSelectedDummyWS()">
                                </span>
                            </h4>
                        </div>
                        <div id="collapseListGroup1" class="panel-collapse collapse" role="tabpanel" aria-labelledby="collapseListGroupHeading1" aria-expanded="false" style="height: 0px;">
                            <div class="list-group" style="margin-bottom: 0px;">
                                <a  ng-click="toggleSelection($index)"
                                    ng-class="getItemStyle($index)"
                                    class="list-group-item" ng-repeat="ws in worldstates">

                                    <span ng-hide="editable[$index]" 
                                          style="width: 90%;
                                          overflow: hidden;
                                          text-overflow: ellipsis; 
                                          white-space: nowrap;
                                          display:inline-block">
                                        {{ws.name}}
                                    </span>
                                    <input style ="width: 90%; color:black;" ng-hide="!editable[$index]" type="text" ng-model="ws.name">
                                    <div class="pull-right">

                                        <i ng-hide="listItemsDisabled || editable[$index]" 
                                           data-placement="top" data-type="info" 
                                           data-delay="500" 
                                           data-animation="am-fade-and-scale" 
                                           data-container="body"
                                           bs-tooltip="tooltipRename.title"
                                           ng-click="editable[$index] = true" 
                                           style="margin-right: 10px;"
                                           class="glyphicon glyphicon-pencil"></i>
                                        <i ng-hide="listItemDisabled || !editable[$index]"
                                           data-placement="top" 
                                           data-type="info" 
                                           data-delay="500" 
                                           data-animation="am-fade-and-scale" 
                                           data-container="body"
                                           bs-tooltip="tooltipRenameDone.title"
                                           ng-click="editable[$index] = false"
                                           style="margin-right: 10px;"
                                           class="glyphicon glyphicon-ok"></i>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <!--<select style="width:100%" ng-model="selectedWorldstates" ng-options="ws.name for ws in worldstates" multiple></select>-->
            </div>
        </div>
        <div ng-show="fileLoading" class="row">
            <div class="col-lg-12">

            </div>
        </div>
        <div ng-show="fileLoadError" class="row">
            <div class="col-lg-12">
                <div class="alert alert-danger">
                    Something went wrong loading file: {{errorFile.name}}
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <label>Criteria function file</label>
            </div>
        </div>
        <div class="row" style="margin-bottom: 20px;">
            <div class="col-lg-4">
                <span class="btn btn-default btn-file" ng-disabled="noIndicatorsLoaded">
                    Choose a file
                    <input type="file" ng-disabled="noIndicatorsLoaded" file-input="cfConfigFile">
                </span>
            </div>
            <div class="col-lg-8" style="display: table-cell">
                <span ng-if="noIndicatorsLoaded" style="vertical-align: middle">No indicator files selected</span>
                <span ng-if="cfFileLoadError" style="vertical-align: middle; color: red">{{cfFileLoadErrorMsg}}</span>
                <span ng-if="loadedCfFile" style="vertical-align: middle">{{loadedCfFile}}</span>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <label>Decision strategy file</label>
            </div>
            
        </div>
        <div class="row">
            <div class="col-lg-4">
                <span class="btn btn-default btn-file" ng-disabled="noIndicatorsLoaded">
                    Choose a file
                    <input type="file" file-input="dsConfigFile" ng-disabled="noIndicatorsLoaded">
                </span>
            </div>
            <div class="col-lg-8" style="display: table-cell">
                <span ng-if="noIndicatorsLoaded" style="vertical-align: middle">No indicator files selected</span>
                <span ng-if="dsFileLoadError" style="vertical-align: middle; color: red">Loaded File: {{dsFileLoadErrorMsg}}</span>
                <span ng-if="loadedDsfFile" style="vertical-align: middle">Loaded File: {{loadedDsfFile}}</span>
            </div>
        </div>
    </div>
</div>