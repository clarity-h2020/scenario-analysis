<div>
    <div class="row"ng-if="!worldstates || worldstates.length <= 0">
        <div class="col-lg-12">
            <div ng-hide="worldstates.length > 0" class="alert alert-warning">
                <strong>Warning: </strong>There are no worldstates selected.
            </div>
        </div>
    </div>
    <div class="row" ng-if="worldstates && worldstates.length > 0" >
        <div class="col-lg-12" style="text-align: center; margin: 20px 0px;">
            <span ng-repeat="ws in worldstates" style="margin:0px 10px;">
                <i class="glyphicon glyphicon-stop" ng-style="getLegendColor($index)"></i>{{ws.name}}
            </span>
        </div>
    </div>
    <div class="row" ng-if="worldstates && worldstates.length > 0">
        <div class="col-lg-4 col-md-6 col-sm-6"  ng-repeat="chartModel in chartModels">
            <div class="row">
                <div class="col-lg-12" style="text-align: center">
                    <label>{{chartModel[0].key}}</label>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12" nvd3-discrete-bar-chart style="margin-top: -40px;"
                     data="chartModel"
                     width="400"
                     height="200"
                     showXAxis="false"
                     showYAxis="true"
                     interactive="true"
                     showValues="true"
                     staggerlabels="true"
                     forceY="{{chartModel.forceY}}"
                     yaxistickformat="yAxisTickFormat"
                     valueFormat="yAxisTickFormat"
                     color="colorFunction()"
                     tooltips="true"
                     tooltipcontent="toolTipContentFunction()">
                    <svg></svg>
                </div>
            </div>
        </div>
    </div>
</div>